
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>

<script>

var products=[];
var caItems=[];
var cart_n=document.getElementById('cart_n2');

    fetch("http://localhost:3000/api/italok")
    .then(res => res.json())
    .then(json => {
        json.map(data => {

              
            italDIV.append(italdiv_fun(data));
        })
    })


    fetch("http://localhost:3000/api/kavek")
    .then(res => res.json())
    .then(json => {
        json.map(data => {
           
            kaveDIV.append(italdiv_fun(data));
        })
    })


    fetch("http://localhost:3000/api/sutemenyek")
    .then(res => res.json())
    .then(json => {
        json.map(data => {
           
            sutiDIV.append(italdiv_fun(data));
        })
    })

   fetch("http://localhost:3000/api/orders")
    .then(res => res.json())
    .then(json => {
        json.map(data => {
           
            orderstabla.append(tdorder_fun2(data));
        })
    })

  function tdorder_fun2({_id,orderid, vegosszeg, time}){
        let tr = document.createElement('tr');
        tr.innerHTML = `
        <tr class="table-default border-0 selected" style="text-align: center">
        <td class="col-3" style="padding-top: 15px; border: none;text-align: center">${orderid}</td>
        <td class="col-3" style="padding-top: 15px; border: none;text-align: center">${vegosszeg} Ft</td>
        <td class="col-3" style="padding-top: 15px; border: none;text-align: center">${time}</td>
        <td class="col-3" style="padding-top: 15px; border: none;text-align: center">2.asztal</td>
        <td style="text-align:center;border:none">                                
            <a class="btn btn-dark" href="/orders/delete/${_id}">Törlés</a></td>
        </td></td>

    </tr>
        `;
        return tr;
    }


     function italdiv_fun({ name, kiszereles, price,con}){
        let div = document.createElement('div');
        let btn=`btnFruit${con}`;
        var mennyiseg = document.createElement('mennyiseg');
        div.className="col-lg-3"
        div.innerHTML = `

        <div style="text-align:center;border-radius:15px" class="card mb-3 shadow-lg">
  
  <div class="card-body">
    <h5 style="font-weight:bold" class="card-title">${name}</h5>
    <h6 class="card-subtitle text-muted"></h6>
  </div>
  <div class="card-body">
    <p class="card-text">Kiszerelés: ${kiszereles}</p>
  </div>
  <ul class="list-group list-group-flush">
    <li class="list-group-item">Egységár: ${price} Ft</li>
  </ul>
  <div class="card-footer text-muted">
    <div class="d-flex justify-content-center align-items-center">

<div class="btn-group">
    <button id="${btn}" type="button" onclick="cart2('${name}','${price}','${con}','${btn}')"
    class="btn btn-sm btn-outline-secondary">Kosárba</button>
</div>

        </div>
  </div>
</div>

             
        `;
        return div;
    }
   


function cart2(name,price){

var item={
    name:name,
    price:price,
    
}

caItems.push(item);
let storage=JSON.parse(localStorage.getItem("cart2"));

if(storage==null){

    products.push(item);
    localStorage.setItem("cart2",JSON.stringify(products));

}else{

    products=JSON.parse(localStorage.getItem("cart2"));
    products.push(item);
    localStorage.setItem("cart2",JSON.stringify(products));
}

products=JSON.parse(localStorage.getItem("cart2"));
cart_n.innerHTML=`[${products.length}]`;

alert("Termék a kosárhoz adva!")


}

</script>

<script
src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
crossorigin="anonymous"
></script>  
</body>
</html>